# Dashboard é¡¹ç›®è¿›åº¦æŠ¥å‘Š

**æ—¥æœŸ:** 2026-02-08  
**è´Ÿè´£äºº:** Dashboard Lead

---

## âœ… å·²å®Œæˆä»»åŠ¡

### 1. å¤©æ°”æ•°æ®é›†æˆ ğŸ”´ é«˜ä¼˜å…ˆçº§
- **å®ç°å†…å®¹:**
  - åˆ›å»º `weather_service.py` - ä½¿ç”¨ Open-Meteo API (å…è´¹ï¼Œæ— éœ€ API Key)
  - æ”¯æŒå½“å‰å¤©æ°”æŸ¥è¯¢
  - æ”¯æŒ 7 å¤©å¤©æ°”é¢„æŠ¥
  - æ”¯æŒåŸå¸‚æœç´¢
  - æ•°æ®ç¼“å­˜åˆ°æ•°æ®åº“ (1å°æ—¶è¿‡æœŸ)
  - é»˜è®¤ä½ç½®: Jersey City, NJ (Garry çš„ä½ç½®)
  
- **API ç«¯ç‚¹:**
  - `GET /api/weather/current` - å½“å‰å¤©æ°”
  - `GET /api/weather/forecast` - å¤©æ°”é¢„æŠ¥
  - `GET /api/weather/search` - åŸå¸‚æœç´¢

- **å‰ç«¯ç»„ä»¶:**
  - `WeatherWidget.vue` - é¡¶éƒ¨å¤©æ°”æ˜¾ç¤ºç»„ä»¶

### 2. æ—¶é—´è½´ API ğŸ”´ é«˜ä¼˜å…ˆçº§
- **å®ç°å†…å®¹:**
  - å®Œæ•´å®ç° Timeline API
  - æ”¯æŒä»å¤šä¸ªæ•°æ®æºèšåˆæ´»åŠ¨:
    - GitHub: commits, PRs
    - Trello: å·²å®Œæˆä»»åŠ¡
    - å¯æŒ‰æ—¶é—´æ®µç­›é€‰ (today/week/month)
  - Activity æ•°æ®æ¨¡å‹æŸ¥è¯¢
  - å®æ—¶èšåˆ (æœªç¼“å­˜æ—¶è‡ªåŠ¨èšåˆ)
  
- **API ç«¯ç‚¹:**
  - `GET /api/timeline/` - è‡ªå®šä¹‰æ—¶é—´èŒƒå›´
  - `GET /api/timeline/today` - ä»Šæ—¥æ´»åŠ¨
  - `GET /api/timeline/week` - æœ¬å‘¨æ´»åŠ¨
  - `GET /api/timeline/month` - æœ¬æœˆæ´»åŠ¨
  - `POST /api/timeline/refresh` - æ‰‹åŠ¨åˆ·æ–°

### 3. Token ä¿æŠ¤ ğŸ”´ é«˜ä¼˜å…ˆçº§
- **å®ç°å†…å®¹:**
  - åˆ›å»º `auth.py` - Token è®¤è¯æ¨¡å—
  - æ”¯æŒ Bearer Token å’Œ Query Param ä¸¤ç§æ–¹å¼
  - é€šè¿‡ç¯å¢ƒå˜é‡ `DASHBOARD_API_TOKEN` å¯ç”¨
  - å¼€å‘æ¨¡å¼ (DEBUG=true) å¯è·³è¿‡è®¤è¯
  - å‰ç«¯è‡ªåŠ¨åœ¨è¯·æ±‚å¤´æ·»åŠ  Token
  - Token ä¿å­˜åœ¨ localStorage
  
- **å‰ç«¯ç»„ä»¶:**
  - `TokenAuth.vue` - Token è®¾ç½®/ç™»å‡º UI

### 4. Cloudflare Tunnel éƒ¨ç½² ğŸŸ¡ ä¸­ä¼˜å…ˆçº§
- **å®ç°å†…å®¹:**
  - `scripts/start.sh` - æœ¬åœ°å¼€å‘å¯åŠ¨è„šæœ¬
  - `scripts/deploy.sh` - Cloudflare Tunnel éƒ¨ç½²è„šæœ¬
  - LaunchAgent é…ç½® (macOS å¼€æœºè‡ªå¯)
  - åŸŸå: `dashboard.mosbiic.com`

### 5. å‰ç«¯å¢å¼º
- **æ›´æ–°ç»„ä»¶:**
  - `DashboardHeader.vue` - é›†æˆå¤©æ°”å’Œ Token è®¤è¯
  - `dashboard.js` store - æ·»åŠ  weather æ•°æ®å’Œ Token ç®¡ç†

---

## ğŸ“‹ å¾…åŠä»»åŠ¡ (å‰©ä½™)

### æ•°æ®å…³è”åˆ†æ ğŸŸ¢ ä½ä¼˜å…ˆçº§
- è·¨æ•°æ®æºæ´»åŠ¨å…³è”
- ç»Ÿè®¡å›¾è¡¨
- å»ºè®®: åç»­è¿­ä»£å®ç°

### ç¯å¢ƒå˜é‡é…ç½® ğŸŸ¢ ä½ä¼˜å…ˆçº§
- åŸºç¡€é…ç½®å·²å®Œæˆ
- ç”Ÿäº§ç¯å¢ƒéœ€è¦é…ç½®:
  - PostgreSQL æ•°æ®åº“
  - DASHBOARD_API_TOKEN
  - Cloudflare Tunnel è¯ä¹¦

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **é…ç½®ç¯å¢ƒå˜é‡:**
   ```bash
   cd backend
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®:
   # - DATABASE_URL (PostgreSQL)
   # - DASHBOARD_API_TOKEN (ç”Ÿæˆ: openssl rand -base64 32)
   # - TRELLO_API_KEY & TOKEN
   # - GITHUB_TOKEN
   ```

2. **æœ¬åœ°æµ‹è¯•:**
   ```bash
   ./scripts/start.sh
   ```

3. **éƒ¨ç½²åˆ° Cloudflare Tunnel:**
   ```bash
   ./scripts/deploy.sh
   ```

---

## ğŸ“ å·²æäº¤æ–‡ä»¶

```
backend/
  app/
    api/
      timeline.py      # å®Œæ•´å®ç°
      weather.py       # å®Œæ•´å®ç°
    core/
      auth.py          # Token è®¤è¯
    services/
      __init__.py      # å¯¼å‡º weather_service
      weather_service.py # å¤©æ°”æœåŠ¡
  main.py              # æ·»åŠ  Token ä¿æŠ¤
  .env.example         # æ›´æ–°é…ç½®

frontend/
  src/
    components/
      DashboardHeader.vue   # é›†æˆå¤©æ°”å’Œ Token
      TokenAuth.vue         # Token UI
      WeatherWidget.vue     # å¤©æ°”æ˜¾ç¤º
    stores/
      dashboard.js          # æ·»åŠ  weather å’Œ Token

scripts/
  start.sh               # æœ¬åœ°å¯åŠ¨
  deploy.sh              # Cloudflare éƒ¨ç½²
```

---

## ğŸ“Š ä»»åŠ¡çŠ¶æ€æ›´æ–°

| ä»»åŠ¡ | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|------|------|--------|
| å¤©æ°”æ•°æ®é›†æˆ | âœ… å®Œæˆ | ğŸ”´ é«˜ |
| æ—¶é—´è½´ API | âœ… å®Œæˆ | ğŸ”´ é«˜ |
| Token ä¿æŠ¤ | âœ… å®Œæˆ | ğŸ”´ é«˜ |
| å‰ç«¯æ—¶é—´è½´è§†å›¾ | ğŸŸ¡ å·²æœ‰ UI | ğŸ”´ é«˜ |
| Cloudflare Tunnel éƒ¨ç½² | âœ… è„šæœ¬å®Œæˆ | ğŸŸ¡ ä¸­ |
| æ•°æ®å…³è”åˆ†æ | â³ å¾…åç»­ | ğŸŸ¢ ä½ |
| ç¯å¢ƒå˜é‡é…ç½® | ğŸŸ¡ åŸºç¡€å®Œæˆ | ğŸŸ¢ ä½ |

---

## ğŸ“ å¤‡æ³¨

- ä»£ç å·²æ¨é€åˆ° GitHub: https://github.com/mosbiic/personal-dashboard
- ä¾èµ–å®‰è£…éœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­æ‰§è¡Œ: `pip install -r requirements.txt`
- å‰ç«¯ä¾èµ–: `npm install`
- å¤©æ°” API ä½¿ç”¨ Open-Meteoï¼Œæ— éœ€ API Key
